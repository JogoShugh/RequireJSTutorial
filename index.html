<!DOCTYPE html>
<html>
	<head>
		<title>RequireJS Tutorial - Atlanta JavaScript Meetup</title>
		<meta name='viewport' content='width=device-width, initial-scale=1.0'>
		<link href='lib/bootstrap/css/bootstrap.min.css' rel='stylesheet' media='screen' />
		<link href='css/index.css' rel='stylesheet' media='screen' />
		<script src='lib/jquery/jquery-1.10.2.min.js'></script>
		<script src='lib/bootstrap/js/bootstrap.min.js'></script>
		<script src='lib/respond/respond.min.js'></script>
		<script>
$(function() {
	var i = 1;
	var pager = $('#slidesPager');
	$('#slides .slide').each(function(){
		this.id = 'slide-' + i;
		var pagerItem = $("<li><a href='#' class='pagerLink'>" + i + "</a></li>");
		pager.append(pagerItem);
		i++;
	});
	slideLoad.totalSlides = i - 1;
	$('.pagerLink').click(function() {
		var link = $(this);
		slideLoad(link.text());
	})
	$('#resources').hide();
	$('#resourcesShow').click(function() {
		resourcesShow();
		resourcesHideButtonShow();
	});
	$('#resourcesHide').click(function() {
		resourcesHide();
		resourcesShowButtonShow();
	});
	$('#resourcesHide').hide();
	$('#resourcesShow').hide();

});	

function slideLoad(slide) {
	$('#resourcesHide').hide();
	$('#resourcesShow').hide();
	resourcesHide();
	var slideEl = $('#slide-' + slide);
	slide = parseInt(slide);
	updatePreviousNextButtons(slide);
	slideLoad.currentSlide = slide;
	var header = slideEl.attr('data-title');
	var content = slideEl.find('.content').html();
	var references = slideEl.find('.references');
	var referencesContent = '';
	if (references.length > 0) {
		referencesContent = references.html();
		resourcesShowButtonShow();
	}
	$('#slideLoadedHeader').text(header);
	$('#slideLoadedContent').html(content);
	$('#resources').html(referencesContent);
}
slideLoad.currentSlide = 0;

function updatePreviousNextButtons(slide) {
	var prev = $('#previous');
	var next = $('#next');
	if (slide <= 1) {
		prev.hide();
		next.show();
	} else if (slide >= 1) {
		prev.show();
		next.show();
	}
	if (slide >= slideLoad.totalSlides) {
		next.hide();
	}
}

function slidePrevious() {
	slideLoad(slideLoad.currentSlide - 1);
}

function slideNext() {
	slideLoad(slideLoad.currentSlide + 1);
}

function resourcesShowButtonShow() {
	$('#resourcesShow').show();
	$('#resourcesHide').hide();
}

function resourcesHideButtonShow() {
	$('#resourcesShow').hide();
	$('#resourcesHide').show();
}

function resourcesShow() {
	$('#resources').show();
}

function resourcesHide() {
	$('#resources').hide();
}
		</script>
	</head>
	<body class='container'>
		<div class='panel'>
			<div class='panel-heading'>
				<ul class="pagination pagination-sm" id='slidesPager'></ul>
			</div>
			<div class='panel-body'>
				<div class='row container' id='slideLoaded'>
					<h2 id='slideLoadedHeader'></h2>
					<div id='slideLoadedContent'></div>
				</div>
				<button type='button' class='btn btn-success btn-sm' id='previous' onclick='slidePrevious()'>Previous</button>
				<button type='button' class='btn btn-success btn-sm' id='next' onclick='slideNext()'>Next</button>
			</div>			
			<div class='panel-footer'>
				<button type="button" class="btn btn-primary btn-sm" id='resourcesShow'>Show Resources</button>
				<button type="button" class="btn btn-primary btn-sm" id='resourcesHide'>Hide Resources</button>
				<div id='resources'>
				</div>	
			</div>
		</div>
		<div id='slides'>
			<div class='slide' data-title='What is RequireJS?'>
				<div class='content'>
					<blockquote class='lead'>RequireJS is a JavaScript file and module loader. It is optimized for in-browser use, but it can be used in other JavaScript environments, like Rhino and Node. Using a modular script loader like RequireJS will improve the speed and quality of your code.
					</blockquote>
					<div class='figure'>
						<img src="https://docs.google.com/drawings/d/1i8SCjWygUokBj1ZV5A-4N8W9kspFosXld5b_pzqeSVA/pub?w=204&amp;h=212" />
					</div>
				</div>
				<div class='references'>
					<div class="list-group">
					  <a href="http://www.requirejs.org" class="list-group-item">
					    <h4 class="list-group-item-heading">RequireJS web site</h4>
					    <p class="list-group-item-text">Study the RequireJS technical documentation in greater detail.</p>
					  </a>
					  <a href="https://github.com/jrburke" class="list-group-item">
					    <h4 class="list-group-item-heading">James Burke's GitHub profile</h4>
					    <p class="list-group-item-text">Check out the RequireJS author's latest work on GitHub.</p>
					  </a>
					</div>
				</div>
			</div>
			<div class='slide' data-title='RequireJS supports the Asynchronous Module Definition pattern (AMD)'>
				<div class='content'>
					<h3>AMD definition:</h3>
					<blockquote class='lead'>The Asynchronous Module Definition API specifies a mechanism for defining modules such that the module and its dependencies can be asynchronously loaded. This is particularly well suited for the browser environment where synchronous loading of modules incurs performance, usability, debugging, and cross-domain access problems.						
					</blockquote>
					<div class='figure'>
						<h4>Figure 1: AMD pattern</h4>
						<p>
							<img src="https://docs.google.com/drawings/d/1j2cv3YuU5f4mqzf3VQUMEegtPB5m4JEIkmsabert89o/pub?w=914&amp;h=638"
							class='col-xs-12 col-md-12' />
						</p>
					</div>
				</div>
				<div class='references'>
					<div class="list-group">
					  <a href="https://github.com/amdjs/amdjs-api/wiki/AMD" class="list-group-item">
					    <h4 class="list-group-item-heading">AMD wiki</h4>
					    <p class="list-group-item-text">Read the full API spec for the AMD JS pattern.</p>
					  </a>
					  <a href="http://pluralsight.com/training/courses/TableOfContents?courseName=javascript-design-patterns" 	class="list-group-item">
					    <h4 class="list-group-item-heading">JavaScript Design Patterns course</h4>
					    <p class="list-group-item-text">Aaron Powell's Pluralsight course has a chapter on AMD.</p>
					  </a>
					</div>
				</div>
			</div>			
			<div class='slide' data-title='RequireJS as boomerang'>
				<div class='content'>
					<h3>RequireJS fetches libraries like a boomerang and brings them back to your code</h3>
					<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-1/js/factorial.js?footer=0"></script>
					<div class='figure'>
						<h4>Figure 2: Library boomerang</h4>
						<p>
							<img class='col-xs-12 col-md-12' src="https://docs.google.com/drawings/d/1lkXsqziTqYC8YLvAXwygfa47hLKjWx_aLKKroP4djn4/pub?w=933&amp;h=401" />
						</p>
					</div>
				</div>
			</div>
			<div class='slide' data-title="Let's build an app!">
				<div class='content'>
					<h3>We'll build an app without RequireJS, then refactor it</h3>
					<h4>Three versions:</h4>
					<ul>
						<li>BBOM first pass</li>
						<li>Modular, yet static</li>
						<li>Asynchronously loaded</li>
					</ul>
					<div class='figure'>
						<h4>Figure 3: Finished version of our application, incorporating all three</h4>
						<p>
							<img src="https://docs.google.com/drawings/d/1RzOM0DYl1qG5KvA4q8OdISWS-KkoOz-dI15gFEK7j64/pub?w=653&amp;h=647" class='col-xs-12' />							
						</p>
					</div>
				</div>
			</div>
			<div class='slide' data-title="Step 1: Start the Big Ball of Mud">
				<div class='content'>
					<h3>Big Ball of Mud:</h3>
					<blockquote class='lead'>A Big Ball of Mud is a haphazardly structured, sprawling, sloppy, duct-tape-and-baling-wire, spaghetti-code jungle. These systems show unmistakable signs of unregulated growth, and repeated, expedient repair...</blockquote>
					<h4>Start your ball of mud promptly!</h4>
					<ul>
						<li>Create a new <code>app</code> folder somewhere with the following subfolders:
							<ul>
								<li><code>js</code></li>
								<li><code>css</code></li>
								<li><code>lib</code></li>
							</ul>
						</li>
						<li>Create <code>app/index.html</code>, and type or paste this code into it:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-1/app/index.html?footer=0"></script>
							</p>
						</li>
						<li>Next, create <code>css/index.css</code> with this code:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-1/app/css/index.css?footer=0"></script>							
							</p>
						</li>
						<li>Finally, you'll need to download the referenced library files, or start by downloading or cloning my <a href='https://github.com/JogoShugh/RequireJSTutorial' target='_blank'>finished repository from GitHub</a> and copying the files -- <strong>Note:</strong> if you download the libraries directly, make sure to use Bootstrap 3 or higher!</li>
						<li>At this point, if you view the <code>index.html</code> page in a browser, you should see that it 
							has the Bootstrap styles, but no functionality yet works. Let's move on to add some code!</li>
					</ul>
				</div>
				<div class='references'>
					<div class="list-group">
					  <a href="http://en.wikipedia.org/wiki/Big_ball_of_mud" class="list-group-item">
					    <h4 class="list-group-item-heading">Big Ball of Mud on Wikipedia</h4>
					    <p class="list-group-item-text">A big ball of mud is a software system that lacks a perceivable architecture. Although undesirable from an engineering point of view, such systems are common in practice due to business pressures and developer turnover. They have therefore been declared a design anti-pattern.</p>
					  </a>
					</div>
				</div>
			</div>
			<div class='slide' data-title="Step 2: Create the CalculatorBBOM object">
				<div class='content'>
					<h3>Our calculator has little functionality in v1. Therefore, we can just put all the code in
						one file, right?</h3>
					<ul>
						<li>Create <code>app/js/calculator-bbom.js</code> with this code:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-2/app/js/calculator-bbom.js?footer=0"></script>
							</p>
						</li>
						<li>Next, add the reference to the <code>app/index.html</code> file, right after the 
							<code>bootstrap.min.js</code> reference:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-2/app/index.html?footer=0&slice=8:10"></script>
							</p>
						</li>
						<li>Load the page now, and you can pull up the developer console and type in 
							<code>CalculatorBBOM.execute('multiply', [2, 4])</code>. For factorial, note the hacky way you need to pass <code>CalculatorBBOM.execute('factorial', [0, <em>n</em>])</code>
						</li>
						<li>Now, let's throw a GUI on top of this!</li>
					</ul>
				</div>
			</div>
			<div class='slide' data-title="Step 3: Create the CalculatorUI constructor function">
				<div class='content'>
					<h3>Now we need a UI so we can click the pretty buttons</h3>
					<ul>
						<li>Create <code>app/js/calculator-ui-1.0.js</code> with this code:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-3/app/js/calculator-ui-1.0.js?footer=0"></script>
							</p>
						</li>
						<li>Next, create <code>app/js/app.js</code> with the following code. This is where we'll handle UI events to coordinate using the <code>CalculatorBBOM</code> and <code>CalculatorUI</code> objects:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-3/app/js/app.js?footer=0"></script>
							</p>
						</li>						
						<li>Now, add references to the <code>app/js/calculator-ui-1.0.js</code> and 
							<code>app/js/app.js</code> files, right after the 
							previous <code>calculator-bbom.js</code> reference:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-3/app/index.html?footer=0&slice=9:12"></script>
							</p>
						</li>
						<li>We need to modify <code>app/index.html</code> so that clicking the <code>Add New BBOM Calculator</code> button creates and appends a new <code>CalculatorUI</code> element (configured with our trusty <code>CalculatorBBOM</code> object) into the DOM. Modify it like this:
							<p>
								<script src="http://gist-it.appspot.com/github/JogoShugh/RequireJSTutorial/blob/step-3/app/index.html?footer=0&slice=15:18"></script>
							</p>							
						</li>
						<li>Load your page now, and:
							<ul>
								<li>Click the <code>Add New BBOM Calculator</code> button. It should append a rendered 
							calculator UI into the page.</li>
								<li>Type <code>5</code> into the input field, then click the <code>+</code> button. It should show <code>5</code> in the output area.</li>
								<li>Click the button again to add another <code>5</code>.</li>
								<li>Clicking the other commands causes those operations to be performed with the current <strong>output value</strong> as the first argument, and the <strong>input field value</strong> as the second.</li>
								<li>The factorial one simply operates on the input value, however.</li>
							</ul>
							<span class='label label-warning'>Confession:</span> I know this calculator isn't super user-friendly, but it's not really a calculator tutorial!								
						</li>
						<li>
							You can also <a class='btn btn-success btn-sm' href='http://jogoshugh.github.io/RequireJSTutorial/steps/step-3/app/index.html' target='_blank'>Run Step 3 on GitHub</a>
						</li>
					</ul>
				</div>
			</div>
			<div class='slide' data-title="Review: Our Big Ball of Mud is alive!">
				<div class='content'>
					<h3>It's alive!</h3>
					<div class='figure'>
						<img src="https://docs.google.com/drawings/d/16tKnQaMCjk8JZMHfxNox7bIVNPOH3uJJztMOmvPbbEM/pub?w=717&amp;h=691" class='col-xs-12 col-md-12' />		
					</div>
					<h4>Let's review:</h4>
					<ul>
						<li>You've created a <a href='http://jogoshugh.github.io/RequireJSTutorial/steps/step-3/app/index.html' target='_blank'>functioning calculator</a>, and even a reusable UI object.</li>
						<li>But, the math functionality is entirely contained in the <code>CalculatorBBOM</code> object,
							which means that if we wanted to support dozens, or even hundreds or thousands, of math functions,
							it would start to get very uncomfortable.</li>
						<li>In Step 4, we'll start to modularize the calculator by using separate files to house each 
							math function. This, however, will still a half-hearted solution that doesn't solve the modularity question entirely.</li>
					</ul>
				</div>
				<div class='references'>
					<div class="list-group">
					  <a href="Big Ball of Mud Design Pattern" class="list-group-item">
					    <h4 class="list-group-item-heading">Big Ball of Mud Design Pattern post at Dodgy Coder</h4>
					    <p class="list-group-item-text">The image above comes from Dody Coder's post on this design (anti-)pattern.</p>
					  </a>
					  <a href="http://www.codinghorror.com/blog/2007/11/the-big-ball-of-mud-and-other-architectural-disasters.html" class="list-group-item">
					    <h4 class="list-group-item-heading">The Big Ball of Mud and Other Architectural Disasters</h4>
					    <p class="list-group-item-text">Jeff Atwood has another great article about this pattern with a lot of other physical-world analogies.</p>
					</div>
					
				</div>				
			</div>
		</div>
	</body>
</html>